/**
 * Created by a.amrastanov on 28.12.2014.
 */

var TableDB = require('./tableDB');

var orderDB = new TableDB('taksi_order');

orderDB.saveCost = function(order){
    var updateFields = {
        cost: order.cost
    };
    this.updateFieldById(order.data.id, updateFields, function(err){
        if (err){
            require('out').error('update order error', err, order, updateFields);
        }
        else{
            order.data.cost = updateFields.cost;
        }
    });
};

orderDB.saveDistance = function(order){
    var updateFields = {
        distance: order.distance
    };
    this.updateFieldById(order.data.id, updateFields, function(err){
        if (err){
            require('out').error('update order error', err, order, updateFields);
        }
        else{
            order.data.distance = updateFields.distance
        }
    });
};

module.exports = orderDB;
