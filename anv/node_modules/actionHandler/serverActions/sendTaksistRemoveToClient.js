/**
 * Created by a.amrastanov on 07.08.2014.
 */

module.exports = function(parameterMap){
    this.taksist = parameterMap.taksist;
    this.clients = parameterMap.clients;
    this.action = parameterMap.action;
    this.doAction = function(){
        var message = require('contextHandler').NewMessage(this.action, {taksistId: this.taksist.data.id});
        for(var index = 0; index < this.clients.length; index++){
            var client = this.clients[index];
            if (client){
                client.send(message);
            }
        }
    }
};