/**
 * Created by a.amrastanov on 07.08.2014.
 */

module.exports = function(parameterMap){
    this.issue = parameterMap.issue;
    this.taksist = parameterMap.taksist;
    this.action = parameterMap.action;
    this.doAction = function() {
        var message = require('contextHandler').NewMessage(this.action, {issueId: this.issue.data.id});
        if (this.taksist === undefined){
            require('userHandler').taksistHandler.sendToAllUsers(message);
        }
        else{
            this.taksist.send(message);
        }
    }
};
